# Copyright 1999-2008 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: $

inherit eutils java-pkg-2

DESCRIPTION="A nice tool to fill in PDF forms."
HOMEPAGE="http://www.cabaret-solutions.com"

SRC_URI="amd64? (cabaretstage_3.2.7_linux_x86-64.tar.gz)"

LICENSE="cabaret"
SLOT="0"
KEYWORDS="~x86 ~amd64"
IUSE=""
RESTRICT="fetch"

DEPEND="
	=dev-java/avalon-framework-4.2*
"

RDEPEND="${DEPEND}
	>=virtual/jre-1.4

	dev-java/bcprov
	dev-java/commons-beanutils
	dev-java/commons-cli
	dev-java/commons-collections
	dev-java/commons-digester
	dev-java/commons-fileupload
	dev-java/commons-httpclient
	dev-java/commons-io
	dev-java/commons-logging
	dev-java/commons-pool

	dev-java/dom4j
	dev-java/sun-jai-bin
	dev-java/jaxen
	dev-java/jline
	dev-java/swt
"
# Source directory; the dir where the sources can be found (automatically
# unpacked) inside ${WORKDIR}.  The default value for S is ${WORKDIR}/${P}
# If you don't need to change it, leave the S= line out of the ebuild
# to keep it tidy.
#S="${WORKDIR}/${P}"
JARS="
freetype.jar isactivedoc.jar iscommon.jar isfont.jar isgraphic.jar
issecstandard.jar jbig2.jar jh.jar js.jar
nebula_cdatetime_0.9.0.jar nebula_pgroup_ALPHA.jar nebula_pshelf_ALPHA.jar
pdflib.jar
"

src_unpack() {
	unpack ${A}
	cd ${S}
	
}

src_install() {
	java-pkg_jarinto /opt/${PN}/lib

	java-pkg_dojar lib/cab*.jar
	for j in $JARS ; do
		java-pkg_dojar lib/$j
	done
	java-pkg_dojar lib/org.eclipse.*.jar

	java-pkg_jar-from --into "${D}"/opt/$PN/lib avalon-framework-4.2

	java-pkg_dolauncher ${PN} --main com.cabaret.platform.stage.StandardStage --pwd /opt/${PN}/lib
}

src_compile() {
	: # empty
}
